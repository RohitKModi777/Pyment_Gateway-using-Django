{% extends "base.html" %}
{% load socialaccount %}
{% block title %}Login Â· PayDemo{% endblock %}
{% block content %}

<style>
    * {
        box-sizing: border-box;
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    }

    body {
        background: #0f0f15;
        color: #e4e4e7;
        margin: 0;
        padding: 0;
        min-height: 100vh;
    }

    /* Navigation Bar Styles */
    .navbar {
        background: #16161d;
        border-bottom: 1px solid #2b2b35;
        padding: 16px 0;
    }

    .nav-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .nav-brand {
        font-size: 20px;
        font-weight: 600;
        color: white;
        text-decoration: none;
    }

    .nav-links {
        display: flex;
        gap: 24px;
        align-items: center;
    }

    .nav-link {
        color: #94a3b8;
        text-decoration: none;
        font-size: 14px;
        font-weight: 500;
        transition: color 0.2s;
    }

    .nav-link:hover {
        color: #e4e4e7;
    }

    .nav-actions {
        display: flex;
        gap: 12px;
        align-items: center;
    }

    .cart-icon {
        color: #94a3b8;
        transition: color 0.2s;
    }

    .cart-icon:hover {
        color: #e4e4e7;
    }

    /* Login Container */
    .login-container {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: calc(100vh - 73px);
        padding: 40px 20px;
    }

    .login-wrapper {
        width: 100%;
        max-width: 420px;
    }

    .header {
        text-align: center;
        margin-bottom: 32px;
    }

    .welcome-text {
        font-size: 14px;
        color: #94a3b8;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        margin-bottom: 8px;
    }

    .signin-title {
        font-size: 24px;
        font-weight: 600;
        color: gray;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
    }

    .login-card {
        background: #41c1;
        border: 1px solid blue;
        border-radius: 20px;
        padding: 32px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.25);
    }

    .form-group {
        margin-bottom: 20px;
    }

    label {
        display: block;
        font-size: 14px;
        color: #4674d8;
        margin-bottom: 6px;
    }

    input[type="text"],
    input[type="email"],
    input[type="password"] {
        width: 100%;
        background: #fff;
        border: 1px solid green;
        border-radius: 10px;
        padding: 12px 16px;
        font-size: 14px;
        color: black;
        transition: border-color 0.2s;
    }

    input[type="checkbox"] {
        width: auto;
        margin: 0;
    }

    input:focus {
        outline: none;
        border-color: #6366f1;
    }

    .login-btn {
        width: 100%;
        background: #4f46e5;
        color: white;
        border: none;
        border-radius: 12px;
        padding: 14px;
        font-size: 15px;
        font-weight: 500;
        cursor: pointer;
        transition: background 0.2s;
        margin-top: 8px;
    }

    .login-btn:hover {
        background: #4338ca;
    }

    .divider {
        display: flex;
        align-items: center;
        margin: 24px 0;
        color: #64748b;
        font-size: 12px;
    }

    .divider::before,
    .divider::after {
        content: "";
        flex: 1;
        height: 1px;
        background: #2a2a36;
    }

    .divider span {
        padding: 0 12px;
    }

    .google-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        width: 100%;
        background: #11111a;
        color: #d4d4d8;
        border: 1px solid yellow;
        border-radius: 12px;
        padding: 12px;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition: border-color 0.2s;
        text-decoration: none;
    }

    .google-btn:hover {
        border-color: #6366f1;
    }

    .google-icon {
        width: 18px;
        height: 18px;
    }

    .signup-link {
        text-align: center;
        margin-top: 24px;
        font-size: 14px;
        color: #94a3b8;
    }

    .signup-link a {
        color: #818cf8;
        text-decoration: none;
    }

    .signup-link a:hover {
        text-decoration: underline;
    }

    .footer {
        text-align: center;
        margin-top: 32px;
        font-size: 12px;
        color: #64748b;
    }

    .arrow-icon {
        color: #818cf8;
    }

    /* Form error styles */
    .error-list {
        color: #f43f5e;
        font-size: 12px;
        margin-top: 4px;
    }

    .non-field-errors {
        background: rgba(244, 63, 94, 0.1);
        border: 1px solid rgba(244, 63, 94, 0.3);
        border-radius: 8px;
        padding: 12px;
        margin-bottom: 16px;
        color: #f43f5e;
        font-size: 14px;
    }

    /* Custom layout styles */
    .form-actions-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
    }

    .remember-me-container {
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .remember-me-label {
        margin: 0;
        font-size: 14px;
        color: #94a3b8;
        cursor: pointer;
    }

    .forgot-password-link {
        color: #818cf8;
        text-decoration: none;
        font-size: 13px;
    }

    .forgot-password-link:hover {
        text-decoration: underline;
    }
</style>

<!-- Login Content -->
<div class="login-container">
    <div class="login-wrapper">
        <div class="header">
            <p class="welcome-text">Welcome back</p>
            <h1 class="signin-title animate-bounce">
                <svg xmlns="http://www.w3.org/2000/svg" class="arrow-icon" width="24" height="24" viewBox="0 0 24 24"
                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 16l4-4m0 0l-4-4m4 4H3m9-7h7a2 2 0 012 2v10a2 2 0 01-2 2h-7" />
                </svg>
                Sign in to continue
            </h1>
        </div>

        <div class="login-card">
            <form method="post" class="space-y-4">
                {% csrf_token %}

                {% if form.non_field_errors %}
                <div class="non-field-errors">
                    {% for error in form.non_field_errors %}
                    {{ error }}
                    {% endfor %}
                </div>
                {% endif %}

                {# Render login field (username/email) #}
                <div class="form-group">
                    <label for="{{ form.login.id_for_label }}">{{ form.login.label }}</label>
                    {{ form.login }}
                    {% for error in form.login.errors %}
                    <p class="error-list">{{ error }}</p>
                    {% endfor %}
                </div>

                {# Render password field #}
                <div class="form-group">
                    <label for="{{ form.password.id_for_label }}">{{ form.password.label }}</label>
                    {{ form.password }}
                    {% for error in form.password.errors %}
                    <p class="error-list">{{ error }}</p>
                    {% endfor %}
                </div>

                {# Custom layout for Remember Me and Forgot Password #}
                <div class="form-actions-row">
                    <div class="remember-me-container">
                        {{ form.remember }}
                        <label for="{{ form.remember.id_for_label }}" class="remember-me-label">
                            {{ form.remember.label }}
                        </label>
                    </div>

                    <a href="{% url 'account_reset_password' %}" class="forgot-password-link">
                        Forgot password?
                    </a>
                </div>

                <button type="submit" class="login-btn">Sign in</button>
            </form>

            <div class="divider">
                <span>OR</span>
            </div>

            <form action="{% provider_login_url 'google' %}" method="post" style="width: 100%;">
                {% csrf_token %}
                <button type="submit" class="google-btn">
                    <svg class="google-icon" viewBox="0 0 24 24" width="18" height="18"
                        xmlns="http://www.w3.org/2000/svg">
                        <g transform="matrix(1, 0, 0, 1, 27.009001, -39.238998)">
                            <path fill="#4285F4"
                                d="M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z" />
                            <path fill="#34A853"
                                d="M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z" />
                            <path fill="#FBBC05"
                                d="M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z" />
                            <path fill="#EA4335"
                                d="M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z" />
                        </g>
                    </svg>
                    Continue with Google
                </button>
            </form>

            <p class="signup-link">
                Don't have an account? <a href="{% url 'account_signup' %}">Sign up</a>
            </p>
        </div>
    </div>
</div>

{% endblock %}